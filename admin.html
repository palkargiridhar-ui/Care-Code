<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CareCode - Admin Dashboard</title>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Arial', sans-serif;
    }

    body {
      background-color: #f5f7fa;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      background-color: #2c3e50;
      color: white;
      padding: 1.5rem;
      text-align: center;
    }

    header h1 {
      font-size: 2em;
      margin-bottom: 0.5rem;
    }

    nav {
      background-color: #34495e;
      display: flex;
      justify-content: center;
      gap: 2rem;
      padding: 1rem;
    }

    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s;
    }

    nav a:hover {
      color: #1abc9c;
    }

    main {
      flex: 1;
      padding: 2rem;
      text-align: center;
    }

    .dashboard-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .card {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }

    .card:hover {
      transform: translateY(-5px);
    }

    .card h3 {
      margin-bottom: 10px;
      color: #2c3e50;
    }

    .card p {
      color: #666;
    }

    footer {
      text-align: center;
      padding: 1.5rem;
      background-color: #2c3e50;
      color: white;
    }
  </style>
</head>

<body>

  <header>
    <h1>CareCode Admin Dashboard</h1>
    <p>Welcome, Admin</p>
  </header>

  <nav>
    <a href="#">Dashboard</a>
    <a href="#">Manage Users</a>
    <a href="#">Reports</a>
    <a href="#">Settings</a>
    <a href="#" onclick="logout()">Logout</a>
  </nav>

  <main>
    <h2>Admin Overview</h2>

    <div class="dashboard-cards">
      <div class="card">
        <h3>Users</h3>
        <p>View and manage all registered users.</p>
      </div>

      <div class="card">
        <h3>Reports</h3>
        <p>Analyze system reports and activities.</p>
      </div>

      <div class="card">
        <h3>Settings</h3>
        <p>Configure system preferences and permissions.</p>
      </div>
    </div>
  </main>

  <footer>
    <p>CareCode Admin Panel &copy; 2025 | Manage with care</p>
  </footer>

  <script>
  <section id="userSection">
  <h2>Registered Users</h2>
  <div id="userList" class="dashboard-cards"></div> 
</section>


async function fetchUsers() {
  try {
    const response = await fetch('http://localhost:3000/api/users');
    const users = await response.json();
  
    const userList = document.getElementById('userList');
    userList.innerHTML = ''; // Clear previous users
  
    users.forEach(user => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <h3>${user.fullName}</h3>
        <p><strong>DOB:</strong> ${user.dob}</p>
        <p><strong>Address:</strong> ${user.address}</p>
        <p><strong>Emergency Contact:</strong> ${user.emergencyContact}</p>
        <p><strong>Alternate Contact:</strong> ${user.alternateContact}</p>
        ${user.photoUrl ? `<img src="http://localhost:3000${user.photoUrl}" alt="User Photo" style="width:100px;height:100px;border-radius:8px;margin-top:10px;">` : ''}
      `;
      userList.appendChild(card);
    });
  } catch (error) {
    console.error('Error fetching users:', error);
  }
}

// Load users when page loads
window.onload = fetchUsers;


    function logout() {
      alert('You have been logged out.');
      window.location.href = 'login.html'; // Make sure your login page is named login.html or change this accordingly
      
    }
  </script>

</body>
</html>
